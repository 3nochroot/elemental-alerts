<head>
    <link rel="stylesheet" href="https://unpkg.com/purecss@0.6.2/build/pure-min.css" integrity="sha384-UQiGfs9ICog+LwheBSRCt1o5cbyKIHbwjWscjemyBMT9YCUMZffs6UqUTd0hObXD" crossorigin="anonymous">    
    <link rel="stylesheet" href="https://unpkg.com/purecss@0.6.2/build/base-min.css">
    <style type="text/css">
        .content { margin-left:3em;}
    </style>
</head>
<body>

<div class="content">
    <p>&nbsp;</p>
    <p><h2>Machine State</h2></p>
{% if machine_list %}
    <table class="pure-table pure-table-striped">
        <thead>
            <tr>
                <th>Machine UUID</th>
                <th>Last sample (UTC)</th>
                <th>Last temp</th>
            </tr>
        </thead>
    {% for machine in machine_list %}
        <tr>
            <td>{{machine.machine_uuid}}</td>
            <td >{{machine.last_sample_date}}</td>
            <td align="right">{{machine.last_sample_temp}}</td>
        </tr>
    {% endfor %}
    </table>
{% else %}
    <p>No machines are configured</p>
{% endif %}
<p><h2>Alert History</h2></p>
{% if alert_list %}
    <table class="pure-table pure-table-striped">
        <thead>
            <tr>
                <th>Machine UUID</th>
                <th>Alert time (UTC)</th>
                <th>Alert Type</th>
                <th>Message</th>
            </tr>
        </thead>
    {% for alert in alert_list %}
        <tr>
            <td>{{alert.machine.machine_uuid}}</td>
            <td>{{alert.alert_date | date:'Y-m-d H:i:s' }}</td>
            <td>{{alert.alert_type}}</td>
            <td>{{alert.message}}</td>
        </tr>
    {% endfor %}
    </table>
{% else %}
    <p>No alerts</p>
{% endif %}
</div>
</body>